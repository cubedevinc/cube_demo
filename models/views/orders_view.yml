views:
  - name: orders_view
    description: "Data about orders, amount, count and breakdown by status, users and products dimension."
    meta:
      hierarchies:
        - name: "Demo Hierarchy"
          levels:
            - users_city
            - status

        - name: "Created At Hierarchy"
          levels:
            - created_at_Year
            - created_at_Quarter
            - created_at_Month
            - created_at_Day

    cubes:
      - join_path: orders
        includes:
          - status
          - created_at
          - id
          - created_at_Year
          - created_at_Quarter
          - created_at_Month
          - created_at_Day

          - completed_count
          - count
          - total_amount
          - average_order_value
          - completed_percentage

      - join_path: orders.users
        prefix: true
        includes: 
          - id
          - city
          - age
          - gender
          - last_name
          - count

      - join_path: orders.line_items.products
        prefix: true
        includes: 
          - product_category
          - count